<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wriber</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BET5CFDC3Z"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-BET5CFDC3Z');
    </script>
    <style>
      .navy li a:hover{
         background-color: moccasin;
         border-radius: 6px;
         border-height: 25px;
         padding: 6px 6px;
      }
      .nav-signup{
            float: right;
            align: right;
            align-items: center;
            justify-content: right;
      }
      .nav-sign{
         left: 10;
         float: right;
         margin-left: 65%;
      }
      .nav-cart{
         float: right;
         margin-left: 65%;
      }
      .nav-cart a svg{
        width: 30px;
        height: 30px;
      }
      .sign-in-button{
        background-color: white;
        color: maroon;
        border-color: maroon;
        border-style: solid;
        width: 85px;
        height: 45px;
        padding: 8px 10px;
        border-radius: 20px;
        transition: 0.2s;
      }
      .sign-in-button:hover{
        background-color: maroon;
        color: white;
      }
      .home-button{
              display: inline-block;
              background-color: white;
              border: none;
              border-radius: 16px;
              color: coral
              }
              .container{
                display: inline-block;
                border-radius: 16px;
               }
              .search-button{
              background-color: white;
              border: none;
              border-color: white;
              border-radius: 16px;
              border-style: solid;
              border-width: 0.5px
              width: 70px;
              height: 42px;
              }
              .search-button:hover{
               background-color: coral;
               color: white;
              }
              .Wriber img{
                width: 200px;
                height: 120px;
              }
      .basic-grid{
        display: grid;
        gap: 7px;
        grid-template-columns: repeat(auto-fit, minmax(325px, 1fr));
      }
      .card{
         text-align: left;
         border-color: PapayaWhip;
         border-radius: 20px;
         transition: 0.4s;
      }
      .card:hover{
         opacity: 0.9s;
         border-color: coral;
      }
      .buy-button{
          background-color: white;
          color: coral;
          border-radius: 20px;
          border-width: 1px;
          height: 37px;
          border-color: coral;
          width: 250px;
          transition: 0.6s;
          }
       .buy-button:hover{
          background-color: tomato;
          color: white;
          }
      @media only screen and (max-width:545px) and (min-width: 272px){
      .nav-signup{
            float: right;
            align: right;
            align-items: center;
            justify-content: right;
      }
      .basic-grid{
        display: grid;
        gap: 7px;
        grid-template-columns: repeat(auto-fit, minmax(175px, 1fr));
      }
      .card{
         text-align: left;
         border-color: PapayaWhip;
         border-radius: 20px;
         transition: 0.4s;
      }
    .Wriber img{
            width: 150px;
            height: 95px;
          }
      }
      @media only screen and (max-height:545px) {
      .nav-signup{
            float: right;
            align: right;
            align-items: center;
            justify-content: right;
      }
    .Wriber img{
            width: 150px;
            height: 95px;
          }
     }
    </style>
  </head>
  <body>

<br>

{% load static %}

    <a class="Wriber" href="{% url 'home' %}">
      <img src="{% static 'images/Wriber.png' %}">
    </a>
    <div class="container" style="width: 100%">
    <form class="d-flex" action="{% url 'searched-products' %}">
      {% csrf_token %}
      <input class="form-control me-2" style="border-radius: 18px;" type="text" placeholder="Search"  name="p">
      <button class="search-button" type="submit">Search</button>
    </form>
    </div>

<div class="container-fluid">
<hr>
</div>

<div style="display: flex; align-items: center; justify-content: space-between;">
  <ul class="navy" style="margin-left: 30px; display: flex; align-items: center;">
    <li class="nav-item" style="display: inline; display: flex; margin-right: 10px;">
      <a class="nav-link active" aria-current="page" href="{% url 'pages' %}" style="border: none;
                    border-height: 20px; transition: 0.5s;">
          Pages
      </a>
    </li>
    <li class="nav-item" style="display: inline; display: flex; margin-left: 10px;">
      <a class="nav-link" href="{% url 'products' %}" style="border: none; border-width: 90px;
                    border-height: 20px; transition: 0.5s;">
          Products
      </a>
    </li>
  </ul>



  <div class="nav-signup" style="display: flex;">
               <a style="text-decoration: none;" href="{% url 'cart-view' %}">
                   <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                   </svg>
                   ({{ cart|length }})
               </a>
          {% if user.is_authenticated %}
                <a style="margin-left: 16px; text-decoration: none;" href="{% url 'wriber-page' request.user.id %}">
                    <button style="border: none; border-radius: 20px; background-color: maroon; color: white; border-style: solid;
                                    padding: 10px 10px;">
                        Profile
                    </button>
                </a>

          {% else %}


      <ul class="nav-signup" style="display: flex;">
                <li class="nav-item" style="display: inline; display: flex;">
                    <div class="sign-in-button">
                    <a class="nav-link" href="{% url 'signup-user' %}">
                        <strong>Sign In</strong>
                    </a>
                    </div>
                </li>
                  {% endif %}
              </ul>
  </div>

</div>

<br>


{% block content %}


<section class="basic-grid">


{% if products %}
    {% for product in products %}
    <div class="card">
            <a href="{% url 'wriber-viewproducts' product.id %}">
                {% if product.image_url %}
                <img src="{{ product.image_url.url }}" class="card-img-top" alt="{{ product.product_name }}"
                height="240px;" style="border-radius: 20px;">
                {% elif product.image_url2 %}
                <img src="{{ product.image_url2.url }}" class="card-img-top" alt="{{ product.product_name }}"
                height="240px;" style="border-radius: 20px;">
                {% elif product.image_url3 %}
                <img src="{{ product.image_url3.url }}" class="card-img-top" alt="{{ product.product_name }}"
                height="240px;" style="border-radius: 20px;">
                {% elif product.image_url4 %}
                <img src="{{ product.image_url4.url }}" class="card-img-top" alt="{{ product.product_name }}"
                height="240px;" style="border-radius: 20px;">
                {% endif %}
            </a>
            <div class="card-body">
                <div style="margin-bottom: -25px;">
                <a style="text-decoration: none; color: coral font-family: helvetica;" href="{% url 'wriber-viewproducts' product.id %}">
                    <h5 class="card-title">
                        {{ product.product_name }}
                    </h5>
                </a>
                </div>
                <div style="display: inline; margin-left: 1px;">
                    <p class="card-text" style="font-family: Courier New; font-size: 20px;"><strong>D{{ product.product_price }}</strong></p>
                </div>
                <!--<p class="card-text"><strong style="color: coral;">{{ product.stock_available }}</strong> in stock</p>-->
                {% if product.page_owner %}
                <!--<a href="{% url 'add-to-cart' pk=product.pk %}">
                        <button class="buy-button">
                            Add To Cart
                        </button>
                </a>
                <hr>
                <div class="container-fluid" style="margin-bottom: -10px; background-color: White; display: flex;">
                        From&nbsp; &nbsp;<a style="text-decoration: none;" href="{{ product.page_owner.get_absolute_url }}">
                            <p>
                            {{ product.page_owner }}
                            </p>
                        </a>
                </div>-->
                {% endif %}
            </div>
    </div>
    {% endfor %}


{% else %}

    Didn't quite catch that, can you repeat it, or try searching it on pages section.


{% endif %}

</section>

{% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>
